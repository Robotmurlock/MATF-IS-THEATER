% !TEX encoding = UTF-8 Unicode
\documentclass[a4paper]{article}

\usepackage{color}
\usepackage[obeyspaces]{url}
\usepackage[T1]{fontenc} % enable Cyrillic fonts
\usepackage[utf8]{inputenc} % make weird characters work
\usepackage{graphicx}
\usepackage[margin=1.0in]{geometry}
\usepackage[table]{xcolor}
\usepackage{tocloft}
\usepackage{float}
\addtolength{\cftsecnumwidth}{10pt}
\usepackage{wasysym}


\usepackage[english,serbian]{babel}
%\usepackage[english,serbianc]{babel} 

\PassOptionsToPackage{obeyspaces}{url}
\usepackage[unicode]{hyperref}
\hypersetup{colorlinks,citecolor=green,filecolor=green,linkcolor=blue,urlcolor=blue}

\usepackage{listings}
\renewcommand\lstlistingname{Kod}
\renewcommand\lstlistlistingname{Kodovi}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
  basicstyle=\scriptsize\ttfamily,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  firstnumber=1,                   % start line enumeration with line 1000
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  language=Python,                 % the language of the code
  morekeywords={*,...},            % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,	                     % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}

\usepackage{enumitem}
\newlist{legal}{enumerate}{10}
\setlist[legal]{label*=\arabic*.}

\begin{document}

\title{Informacioni sistem pozorišta\\ \small{Seminarski rad u okviru kursa\\Informacioni sistemi\\ Matematički fakultet}}

\author{
Katarina Savičić 1086/2020\\
Dragana Milić 1042/2019\\
Nikola Vuković 1090/2020\\
Ognjen Milinković 1008/2020\\
Momir Adžemović 1005/2020
}

\date{1.~april 2020.}

\maketitle

\abstract

Ovo je sažetak. On se piše na kraju.

\newpage

\tableofcontents

\newpage

\section{Uvod}
Ovaj rad se bavi modeliranjem najvažnijih procesa u radu jednog pozorišta, gde se akcenat
stavlja na proces produkcije predstave. Proces predstave se sastoji iz dva glavna 
dela\cite{hamilton_theatre_producing_the_drama}:
\begin{itemize}
  \item priprema i izvođenje
  \item tehnički deo
\end{itemize}

\section{Slučajevi upotrebe}

\subsection{Registracija i prijavljivanje na stranicu pozorišta}
Da bi klijenti i zaposleni koristili usluge sistema, potrebno je da budu prijavljeni sa odgovarajućim nalogom.

\subsubsection{Registracija klijenta}
\noindent\textbf{Kratak opis:} Klijenti mogu da naprave nalog preko kojeg mogu da kupuju i rezervišu
  karte za predstavu sa repertoara.

\subsubsection{Registracija zaposlenog} 
\noindent\textbf{Kratak opis:} Zaposleni dobijaju nalog koji ima dodatne privilegije u zavisnosti 
  od zvanja u okviru pozorišta.

\subsubsection{Prijavljivanje}
\noindent\textbf{Kratak opis:} Klijenti i zaposleni mogu da se prijave na sistem koristeći odgovarajuće kredencijale.

\subsection{Organizacija predstave}
Proces organizacije predstave počinje prijavom koju popunjava i podnosi organizator. Predstavu sa statusom ,,prijavljena'' mora da odobri supervizor pozorišta. Kada se prijavljena predstava odobri, onda predstava prelazi u stanje ,,aktivna``. 

Organizator predstave je zadužen za ceo proces formiranja predstave od njene prijave do realizacije, dok supervizor izvršava administrativne zadatke vezane za pozorište. Neophodno je da organizator konstantno ima uvid u stanje svake predstave za koju je on zadužen. 

Proces organizacije predstave predstavljen je dijagramom na slici \ref{da_organizacije_predstave}

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=60mm]{../images/usecase_organizacija_predstave.jpg}
  \end{center}
  \caption{Organizacija predstave}
  \label{usecase_prodaja_karata}
\end{figure}

\subsubsection{Kreiranje predstave} \label{Kreiranje predstave}
\noindent\textbf{Kratak opis:} Da bi se predstava održala, organizator mora da je kreira u informacionom sistemu. 

\noindent\textbf{Učesnici:} Organizator predstave

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Postoji zaposleni koji je organizator predstave.
    \item Organizator je prijavljen na sistem.
    \item Postoji scenario za predstavu.
    \item Organizator je ugovorio izvođenje predstave sa rediteljem.
    \item Reditelj je odredio glumce.
    \item Procenjen je budžet koji uključuje platu glumaca tokom pripreme i izvođenja, dužinu pripreme, i elemente scene.
    \item Reditelj i glumci su registrovani u sistemu kao zaposleni.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Kreirana predstava je sačuvana u sistemu sa statusom ,,prijavljena``.
    \item Organizator može da vidi prijavljenu predstavu kada je prijavljen na sistem.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Organizator u sistemu otvara stranu za kreiranje predstave.
    \item Organizator unosi u formu potrebne informacije, uključujući ime i opis predstave, reditelja, glumce i uloge. 
    \item Organizator evidentira prijavu predstave u sistem klikom na ,,Pošalji prijavu``. 
    \item Sistem obaveštava supervizora mejlom o prijavljenoj predstavi.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
  \item \textbf{A1. Informacije o prijavi su nepotpune} 
      \begin{legal}
        \item Organizator u koraku 2. ne unosi sve informacije, ili nije siguran da li su informacije finalne. 
        \item Organizator čuva predstavu sa statusom ,,nedovršena'' klikom na ,,Sačuvaj nedovršenu prijavu``.
      \end{legal}
  \item \textbf{A2. Neki od uključenih zaposlenih nije evidentiran u sistemu} 
      \begin{legal}
        \item Organizator ne može da dovrši korak 2 jer jedan od zaposlenih nije evidentiran u sistemu, pa čuva nedovršenu prijavu (Alternativni tok A1)
        \item Supervizor evidentira zaposlenog u sistemu procesom opisanim u \ref{Registrovanje zaposlenih}.
        \item Organizator nastavlja proces kroz \ref{Dovršavanje prijave}
      \end{legal}
\end{itemize}

\noindent\textbf{Dodatne informacije:} Podrazumeva se da je predstava ugovorena drugim putevima - nizom mejlova, telefonskih razgovora i sastanaka. Zbog komplikovane prirode međuljudskih veza u ovoj sferi, informacioni sistem se bavi isključivo ugovorenom predstavom. 

\subsubsection{Odobravanje predstave}
\noindent\textbf{Kratak opis:} Kada je predstava prijavljena, supervizor pregleda informacije, uzimajući u obzir aktuelni i budući repertoar i interesovanje publike za isti, kao i budžet pozorišta, i odobrava predstavu. 

\noindent\textbf{Učesnici:} Supervizor pozorišta.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Supervizor je prijavljen na sistem.
    \item Određena predstava je evidentirana u sistemu kao ,,prijavljena``.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Predstava koja je bila evidentirana kao ,,prijavljena'' je evidentirana kao ,,aktivna``
    \item Organizator može da vidi odgovarajući status predstave nakon prijave na sistem.
    \item Organizator može da rezerviše sale za probu i održavanje predstave. 
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Supervizor pretražuje predstave sa statusom ,,prijavljena``.
    \item Supervizor otvara stranu za prikaz informacija o određenoj prijavljenoj predstavi. 
    \item Nakon analize informacija, supervizor odobrava predstavu. 
    \item Sistem obaveštava organizatora mejlom o odobrenju. 
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
  \item \textbf{A1. Predstava je odbijena} 
      \begin{legal}
        \item Supervizor u 3. koraku odbija prijavu predstave uz obrazloženje.
        \item Sistem obaveštava organizatora mejlom o odbijanju uz obrazloženje. 
      \end{legal}
\end{itemize}


\subsubsection{Dovršavanje prijave} \label{Dovršavanje prijave}
\noindent\textbf{Kratak opis:} U slučaju da je organizator sačuvao prijavu kao nedovršenu, može da je izmeni ili dopuni, i konačno pošalje. 

\noindent\textbf{Učesnici:} Organizator predstave

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Organizator je prijavljen na sistem.
    \item Organizator je započeo prijavu predstave i sačuvao je kao nedovršenu.
    \item Organizator može da vidi nedovršenu predstavu nakon prijave na sistem.
    \item Svi preduslovi slučaja \ref{Kreiranje predstave}.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Predstava koja je bila evidentirana kao ,,nedovršena'' je sada evidentirana kao ,,prijavljena`` .
    \item Svi postuslovi slučaja \ref{Kreiranje predstave}.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Organizator pretražuje nedovršene prijave.
    \item Organizator otvara određenu nedovšenu prijavu. 
    \item Organizator dopunjava, odnosno menja željene informacije.
    \item Organizator evidentira prijavu predstave u sistem klikom na ,,Pošalji prijavu``. 
    \item Sistem obaveštava supervizora mejlom o prijavljenoj predstavi.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
  \item \textbf{A1. Informacije o prijavi su nepotpune} 
      \begin{legal}
        \item Organizator u koraku 2. ne unosi sve informacije, ili nije siguran da li su informacije finalne. 
        \item Organizator čuva predstavu sa statusom ,,nedovršena'' klikom na ,,Sačuvaj nedovršenu prijavu``.
      \end{legal}
\end{itemize}


\subsubsection{Registrovanje zaposlenog} \label{Registrovanje zaposlenih}
\noindent\textbf{Kratak opis:} Da bi zaposleni bio uključeni u predstavu, mora biti registrovan u sistemu. Supervizor po sklapanju ugovora o radu sa zaposlenim unosi njegove informacije u sistem

\noindent\textbf{Učesnici:} Supervizor pozorišta; zaposleni.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Supervizor je prijavljen na sistem.
    \item Pozorište je sklopilo ugovor o radu sa osobom A.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Zaposleni je eveidentiran u sistemu.
    \item Zaposleni može da se prijavi na sistem.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Supervizor otvara formu za evidentiranje zaposlenog.
    \item Supervizor popunjava formu, unoseći sve potrebne informacije uključujući Ime, Prezime, JMBG i mejl adresu. 
    \item Sistem obaveštava zaposlenog o kreiranom profilu putem mejla. 
    \item Zaposleni klikom na link u mejlu koji mu je stigao odlazi na stranicu gde kreira šifru za svoj nalog i potvrđuje registraciju.  
    \item Sistem čuva unete podatke i obaveštava zaposlenog mailom o uspešnoj registraciji
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
  \item \textbf{A1. Zaposleni ne potvrđuje registraciju} 
      \begin{legal}
        \item Zaposleni nije ispunio 4. korak. Zaposleni ne može da se prijavi na sistem ali može da bude uključen u prijavu predstave. 
      \end{legal}
\end{itemize}

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=160mm]{../images/dijagram aktivnosti organizacija predstave vert.png}
  \end{center}
  \caption{Dijagram aktivnosti organizacije predstave}
  \label{da_organizacije_predstave}
\end{figure}


% --------------------------------------------------------------------------------------------------

\subsection{Rezervacija pozorišnih sala}
Organizator aktivne predstave treba da rezerviše salu za predstavu. Dakle, treba omogućiti uvid u slobodne sale, rezervaciju, kao i odjavljivanje sale. Organizator ima mogućnost promene sale ukoliko je druga sala slobodna za dati termin.  

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=60mm]{../images/usecase_rezervacija_sale.png}
  \end{center}
  \caption{Rezervacija sale}
  \label{usecase_rezervacija_sale}
\end{figure}

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=100mm]{../images/activity_rezervacija_sala.jpg}
  \end{center}
  \caption{Rezervacija sala: dijagram aktivnosti}
  \label{usecase_prodaja_karata}
\end{figure}

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=60mm]{../images/dfd2_rezervisanje_sala.jpg}
  \end{center}
  \caption{Dijagram toka podataka- Rezervacija sale.}
  \label{usecase_prodaja_karata}
\end{figure}

\subsubsection{Prijavljivanje sale}
\noindent\textbf{Kratak opis:} Kada je predstava odobrena, organizator rezerviše salu za određeni datum i vreme za održavanja predstave. 

\noindent\textbf{Učesnici:} Organizator pozorišta.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Određena predstava je evidentirana u sistemu kao ,,aktivna``.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Sala za održavanje predstave je rezervisana za određeni datum i vreme
    \item Organizator i glumci imaju uvid u kojoj se sali održava predstava nakon prijave na sistem.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
 \item Organizator unosi podatke za prijavljivanje na sistem.
    \item Sistem vrši verifikaciju i prikazuje organizatoru listu predstava za koje je zadužen.
    \item Organizator bira predstavu sa statusom ,,aktivna`` kojoj želi da dodeli salu.
    \item Sistem prikazuje informacije o predstavi.
    \item Organizator unosi datum i vreme održavanja, kao i trajanje predstave
    \item Sistem prikazuje slobodne sale za dati termin.
    \item Organizator dodeljuje slobodnu salu datoj predstavi za određeni termin.
    \item Sistem ažurira bazu podataka.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
 \item \textbf{A1. Neuspelo prijavljivanje} 
      \begin{legal}
        \item Sistem prikazuje poruku o grešci pri prijavljivanju.
        \item Proces se nastavlja u \textbf{koraku 1}.
      \end{legal}
  \item \textbf{A7. Sve sale su zauzete za odabrani termin} 
    \begin{legal}
      \item Sistem prikazuje poruku da su sve sale zauzete za dati termin.
      \item Proces se nastavlja u \textbf{koraku 5}.
    \end{legal}
\end{itemize}
\subsubsection{Odjavljivanje sale}
\noindent\textbf{Kratak opis:} Predstava je odložena i organizator odjavljuje datu salu

\noindent\textbf{Učesnici:} Organizator pozorišta.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Predstavi je dodeljena sala
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Sala je oslobođena za dati termin
    \item Predstavi nije dodeljena nijedna sala
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
   \item Organizator unosi podatke za prijavljivanje na sistem.
    \item Sistem vrši verifikaciju i prikazuje organizatoru listu predstava za koje je zadužen.
    \item Organizator bira predstavu kojoj je dodeljena sala.
    \item Sistem prikazuje informacije o predstavi.
    \item Organizator odjavljuje salu za dati termin.
    \item Sistem ažurira bazu podataka.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
 \item \textbf{A1. Neuspelo prijavljivanje} 
      \begin{legal}
        \item Sistem prikazuje poruku o grešci pri prijavljivanju.
        \item Proces se nastavlja u \textbf{koraku 1}.
      \end{legal}
  
\end{itemize}


\subsubsection{Promena sale}
\noindent\textbf{Kratak opis:} Organizator može da promeni salu za održavanje predstave ukoliko je zbog velikog interesovanja gledalaca potrebna sala sa većim kapacitetom

\noindent\textbf{Učesnici:} Organizator pozorišta.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Predstavi je dodeljena sala
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Predstavi je promenjena  sala za održavanje
    \item Prvobitno izabrana sala je oslobođena za dati termin
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
  \item Organizator unosi podatke za prijavljivanje na sistem.
    \item Sistem vrši verifikaciju i prikazuje organizatoru listu predstava za koje je zadužen.
    \item Organizator bira predstavu kojoj je dodeljena sala.
    \item Sistem prikazuje informacije o predstavi.
    \item Organizator bira opciju za promenu sale
    \item Sistem prikazuje slobodne sale za dati termin.
    \item Organizator dodeljuje slobodnu salu datoj predstavi za određeni termin.
     \item Sistem ažurira bazu podataka.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
 \item \textbf{A1. Neuspelo prijavljivanje} 
      \begin{legal}
        \item Sistem prikazuje poruku o grešci pri prijavljivanju..
        \item Proces se nastavlja u \textbf{koraku 1}.
      \end{legal}
       \item \textbf{A6. Sve sale su zauzete za odabrani termin} 
    \begin{legal}
      \item Sistem prikazuje poruku da su sve sale zauzete za dati termin.
      \item Slučaj upotrebe se ovde završava
    \end{legal}
\end{itemize}

\subsection{Održavanje predstave}
  Supervizor treba da napravi repertoar po kome se odrzavaju predstave, kao i da nedelju dana unapred proverava da li je došlo do promene (otkazivanja predstave), dok šef razvodnika treba da napravi raspored rada razvodnika u zavisnosti od repertoara. 
  
\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=60mm]{../images/usecase_odrzavanje_predstave.jpg}
  \end{center}
  \caption{Održavanje predstave}
  \label{usecase_prodaja_karata}
\end{figure}


\subsubsection{Pravljenje repertoara} 
\noindent\textbf{Kratak opis:} Supervizor treba da napravi repertoar za narednih mesec dana, imajući u vidu sve predstave koje su spremne za izvođenje.

\noindent\textbf{Učesnici:} Supervizor pozorišta.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Postoji zaposleni koji je zadužen za repertoar, i to je u ovom slučaju supervizor.
    \item Postoji spisak svih predstava koje se izvode sledećeg meseca.
    \item Supervizor ima pristup spisku predstava i poznato je trajanje i sala u kojoj se izvodi svaka predstava.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Napravljen je repertoar.
    \item Repertoar može da pogleda bilo koji korisnik sistema koji ima pristup internetu.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Supervizor otvara formu za evidentiranje zaposlenog.
    \item Supervizor pristupa spisku predstava koje treba da se nađu na repertoaru.
    \item Supervizor sastavlja repertoar, tako što za svaki dan bira koja će se predstava kad i gde održavati.  
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
  \item \textbf{A1. Nije moguće održati predstavu zbog gostovanja} 
      \begin{legal}
        \item Za određeni dan nije moguće realizovati korak 2.
        \item Umesto predstave tog dana, na repertoaru će se naći gostovanje.
      \end{legal}
\end{itemize}

\subsubsection{Pravljenje rasporeda razvodnika} 
\noindent\textbf{Kratak opis:} Šef razvodnika treba da napravi raspored rada razvodnika u zavisnosti od repertoara.

\noindent\textbf{Učesnici:} Šef razvodnika.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Poznat je repertoar.
    \item Poznato je koji razvodnici rade sledećeg meseca.
    \item Šef razvodnika ima pristup sistemu.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Poznat je raspored razvodnika za svaki dan repertoara.
    \item Bilo koji razvodnik može da pogleda raspored rada razvodnika za tekući mesec.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Šef razvodnika pristupa sistemu.
    \item Šef razvodnika pregleda repertoar za svaki dan posebno.
    \item Šef razvodnika određuje koji će razvodnici biti u kojoj sali za svaki dan koji pregledaju.  
  \end{legal}


\subsubsection{Provera održavanja predstave} 
\noindent\textbf{Kratak opis:} Supervizor svakog dana proverava predstave koje su na repertoaru nedelju istog dana sledeće nedelje, za slučaj da je neka otkazana.

\noindent\textbf{Učesnici:} Supervizor pozorišta.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Poznat je repertoar.
    \item Supervizor ima pristup sistemu.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Vidljive su izmene u repertoaru.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Supervizor pristupa sistemu.
    \item Supervizor proverava da li postoji neki problem sa predstavama koje se održavaju nedelju dana od dana kada vrši proveru.
    \item Ukoliko postoji problem oko izvođenja predstave (predstava mora da bude otkazana), supervizor uklanja predstavu sa repertoara.
    \item Supervizor obaveštava blagajnu da je predstava otkazana, kako bi rešili probleme sa kartama za otkazanu predstavu.
  \end{legal}


\subsubsection{Pregled repertoara} 
\noindent\textbf{Kratak opis:} Bilo koji korisnik ima pristup repertoaru.

\noindent\textbf{Učesnici:} Korisnik servisa.

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Poznat je repertoar.
    \item Korisnik ima pristup sistemu.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Korisnik je upoznat sa repertoarom.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Korisnik pristupa sistemu.
    \item Korisnik pregleda repertoar.
  \end{legal}



\newpage
\subsection{Prodaja karata}
Prodaja karata je proces koji sledi nakon što je određen datum, rezervisana sala i dodeljene uloge
zaposlenim. Tada je moguće preciznije odrediti potreban budžet za dalju realizaciju predstave, pa
samim tim i minimalni broj kupljenih karata za izvođenje. Na osnovu rezervisane sale (i potencijalno još 
nekih drugih faktora, kao što je epidemija ili slično) određuje se broj karata za prodaju. Gledaoci 
(klijenti) predstave mogu da kupe ili rezervišu kartu za pozorište preko veb stranice pozorišta. 
Takođe, klijenti mogu da kupe rezervisanu kartu ili nerezervisanu kartu ako nisu rasprodate na blagajni.
Klijent ima pravo da zatraži povraćaj novca za kupljenu kartu, a slučaju da se cela predstava otkaže,
potrebno je, uz potvrdu organizatora, da se izvrši povraćaj novca svim klijentima.

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=60mm]{../images/usecase_prodaja_karata.jpg}
  \end{center}
  \caption{Prodaja karata: dijagram slučajeva upotrebe}
  \label{usecase_prodaja_karata}
\end{figure}

Ovaj proces ima, grubo rečeno, tri glavna stanja:
\begin{itemize}
  \item Predstava je aktivna;
  \item Kupovina i rezervacija karata;
  \item Povraćaj novca (opcionalno i neželjno stanje).
\end{itemize}

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=40mm]{../images/state_prodaja_karata.jpg}
  \end{center}
  \caption{Prodaja karata: dijagram stanja}
  \label{state_prodaja_karata}
\end{figure}

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=90mm,height=60mm]{../images/dfd2_prodaja_karata.png}
  \end{center}
  \caption{Dijagram toka podataka - Prodaja karata}
  \label{dfd2_prodaja_karata}
\end{figure}

\subsubsection{Definisanje broja karata za predstavu}
\noindent\textbf{Kratak opis:} Organizator predstave može da definiše broj karata na osnovu rezervisane
sale za izvođenje predstave. Nakon definisanja se ažurira repertoar na stranici pozorišta.\\

\noindent\textbf{Učesnici:} Organizator predstave.\\

\noindent\textbf{Preduslovi:}
  \begin{itemize}
    \item Predstava je zakazana određenog datuma.
    \item Rezervisana je određena sala za predstavu.
    \item Dodeljene su sve uloge (tehničke i umetničke) za realizaciju predstave.
    \item Određen je potreban budžet za realizaciju.
    \item Organizator je zadužen za datu predstavu.
  \end{itemize}

\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Ažuriran je repertoar tj. dodata je nova predstava sa kratkim opisom i datumom izvođenja.
    \item Ažuriran je status predstave u bazi podataka.
    \item Korisnici su u mogućnosti da rezervišu ili kupe kartu za tu predstavu.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Organizator unosi podatke za prijavljivanje na sistem.
    \item Sistem vrši verifikaciju i prikazuje organizatoru listu predstava za koje je on zadužen.
    \item Organizator bira predstavu koju želi da ažurira.
    \item Sistem prikazuje informacije o predstavi.
    \item Organizator unosi broj karata za prodaju i opciono dodaje napomenu.
    \item Sistem proverava unete podatke.
    \item Sistem ažurira bazu podataka.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
\begin{itemize}
  \item \textbf{A1. Neuspelo prijavljivanje (korak 1)} 
      \begin{legal}
        \item Sistem prikazuje poruku o grešci pri prijavljivanju..
        \item Proces se nastavlja u \textbf{koraku 1}.
      \end{legal}
  \item \textbf{A2. Podaci o broju karata nisu validni (korak 6)} 
    \begin{legal}
      \item Sistem prikazuje poruku o grešci.
      \item Proces se nastavlja u \textbf{koraku 5}.
    \end{legal}
\end{itemize}

\noindent\textbf{Dodatne informacije:} 
  \begin{itemize}
    \item Postoji period osvežavanja repertoara na stranici na osnovu
          sadržaja baze podataka. 
    \item Sistem automatski popunjava vrednost polja za broj karata sa podrazumevanom
          vrednošću koja odgovara broju mesta u sali u kojoj je predstava zakazana.
  \end{itemize}

\subsubsection{Onlajn kupovina karata i rezervacija}

\noindent\textbf{Kratak opis:} Informacioni sistem nudi pregled repertoara korisnicima. 
        Svako može da kupi kartu za određenu predstavu ako postoji slobodno mesto.
        Alternativa je da se vrši rezervacija karte koja može kasnije da se kupi na blagajni.\\

\noindent\textbf{Učesnici:} Registrovan korisnik koji želi da kupi ili rezerviše kartu.\\

\noindent\textbf{Preduslovi:} 
  \begin{itemize}
    \item Korisnik mora da bude registrovan sa odgovarajućim mejlom. 
    \item Korisnik mora da ima pristup internetu.
    \item Sistem mora da bude u funkciji.
    \item Sistem mora da bude pouzdan. 
    \item Mora da postoji barem jedno slobodno mesto za željenu predstavu, a samim tim mora da 
          postoji barem jedna aktivna predstava. 
    \item Ukoliko korisnik želi da kupi kartu, mora da ima karticu za onlajn plaćanje (ili 
          neku alternativu).
  \end{itemize}
  
\noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Korisnik je dobio potvrdu na mejl sa kodom kupljenje ili rezervisane karte.
    \item Ako je korisnik kupio kartu, onda je takođe dobio mejl sa informacijama računa.
    \item Baza je ažurirana tj. broj karata za predstavu je umanjen za broj kupljenih karata.
  \end{itemize}

\noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Prijavljen korisnik pristupa stranici za kupovinu karata. 
    \item Sistem učitava podatke iz baze i prikazuje repertoar.
    \item Korisnik klikom bira željenu predstavu sa prikazanog repertoara.
    \item Sistem otvara korisniku formu za rezervaciju ili kupovinu karte.
    \item Korisnik kupuje ili rezerviše kartu.
    \item Sistem proverava formu i ažurira bazu podataka.
    \item Sistem šalje mejl sa odgovarajućim kodom korisniku na mejl.
    \item Sistem prikazuje korisniku poruku o uspešnoj kupovili ili registraciji i podseća
          korisnika da proveri mejl.
  \end{legal}

\noindent\textbf{Alternativni tokovi:} 
  \begin{itemize}
    \item \textbf{A1. Korisnik nije prijavljen} 
        \begin{legal}
          \item Sistem otvara korisniku stranicu za prijavljivanje.
          \item Korisnik se prijavljuje.
          \item Proces se nastavlja u \textbf{koraku 2}.
        \end{legal}
    \item \textbf{A2. Korisnik je već rezervisao kartu (korak 5)}
        \begin{legal}
          \item Sistem prikazuje korisniku obaveštenje o nemogućnosti rezervacije više od jedne karte.
          \item Korisnik pretiska dugme za potvrdu.
          \item Proces se nastavlja u \textbf{koraku 2}.
        \end{legal}
    \item \textbf{A3. Neuspešna kupovina karte (korak 5)}
        \begin{legal}
          \item Sistem prikazuje korisniku obaveštenje o neuspelom plaćanju sa odgovarajućim
                razlogom (ako je taj razlog poznat sistemu).
          \item Korisnik pretiska dugme za potvrdu.
          \item Proces se nastavlja u \textbf{koraku 5}.
        \end{legal}
    \item \textbf{A4. Tokom popunjavanja forme su rasprodate karte su se rasprodale (korak 6)}
        \begin{legal}
          \item Sistem prikazuje korisniku obaveštenje o rasprodatim kartama.
          \item Korisnik pretiska dugme za potvrdu.
          \item Proces se nastavlja u \textbf{koraku 2}.
        \end{legal}
  \end{itemize}

\noindent\textbf{Podtokovi:}
  \begin{itemize}
    \item \textbf{5.1. Kupovina karte}
        \begin{legal}
          \item Korisnik bira opciju za kupovinu karte.
          \item Sistem prikazuje korisniku stranicu, gde može da se izabere broj karata.
          \item Korisnik unosi željeni broj karata.
          \item Sistem izračunava cenu i prikazuje tu cenu korisniku.
          \item Korisnik potvrđuje kupovinu karte tako što pretiska dugme.
          \item Sistem prikazuje korisniku opcije plaćanja.
          \item Korisnik bira željeni način plaćanja.
          \item Sistem prikazuje korisniku formu za plaćanje za izabran način plaćanja.
          \item Korisnik popunjava formu.
          \item Korisnik pretiska dugme za potvrdu.
          \item Sistem izvršava transakciju plaćanja sa odgovarajućim proveravama.
        \end{legal}
    \item \textbf{5.2. Rezervacija karte}
        \begin{legal}
          \item Korisnik bira opciju za rezervaciju karte.
          \item Korisnik potvrđuje rezervaciju karte tako što pretiska dugme.
        \end{legal}
  \end{itemize}

\noindent\textbf{Specijalni zahtevi:} Mejl mora da stigne korisniku u roku od 10 minuta nakon što 
        je prikazana poruka o uspešnoj kupovini odnosno rezervaciji.\\

\noindent\textbf{Dodatne informacije:} Podaci koji su potrebni za prijavu su korisničko ime ili mejl, i 
        šifra naloga.

        \newpage
        \begin{figure}[H]
          \begin{center}
              \includegraphics[width=80mm,height=100mm]{../images/activity_prodaja_karata.jpg}
          \end{center}
          \caption{Tok onlajn prodaje karata}
          \label{activity_prodaja_karata}
        \end{figure}

\subsubsection{Kupovina karata na blagajni}
\noindent\textbf{Kratak opis:} Klijenti koji su rezervisali kartu mogu da kupe kartu u pozorištu.
Klijenti koji nisu rezervisali kartu u pozorišu mogu da kupe kartu ako i dalje postoji mesta.\\

\noindent\textbf{Učesnici:} 
  \begin{itemize}
    \item Klijent koji želi da kupi ili rezerviše kartu.
    \item Blagajnik koji je zaposlen u pozorištu.
  \end{itemize}

  \noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Klijent ima mogućnost da prisustvuje predstavi za koju ima kupljenu kartu.
  \end{itemize}

  \noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Klijent saopštava blagajniku koje karte želi da kupi.
    \item Blagajnik zahteva račun za kupovinu od sistema.
    \item Sistem prikazuje prodavcu račun za kupovinu.
    \item Blagajnik saopštava ukupnu cenu klijentu.
    \item Klijent izvršava plaćanje.
    \item Blagajnik potvrđuje uplatu u sistemu.
    \item Sistem prikazuje karte za štampanje.
    \item Blagajnik štampa i daje klijentu karte.
  \end{legal}

  \noindent\textbf{Alternativni tokovi:} 
  \begin{itemize}
    \item \textbf{A1. Ne postoji dovoljan broj karata za brodaju (korak 1.1.2)} 
        \begin{legal}
          \item Blagajnik saopštava klijentu da ne postoji dovoljan broj karata
          \item Proces se nastavlja u \textbf{koraku 1}.
        \end{legal}
    \item \textbf{A2. Kodovi koje je klijent saopštio nisu validni (korak 1.2.2)} 
        \begin{legal}
          \item Blagajnik saopštava klijentu da rezervacije nisu važeće.
          \item Proces se nastavlja u \textbf{koraku 1}.
        \end{legal}
    \item \textbf{A3. Klijent ipak ne želi da izvrši plaćanje (korak 5)} 
        \begin{legal}
          \item Blagajnik stornira račun.
          \item Proces se nastavlja u \textbf{koraku 1}.
        \end{legal}
  \end{itemize}

  \noindent\textbf{Podtokovi:}
  \begin{itemize}
    \item \textbf{1.1. Klijent nema rezervisane karte}
        \begin{legal}
          \item Blagajnik proverava da li ima slobodnih karata tako što unosi upit preko odgovarajućeg interfejsa.
          \item Sistem daje prodavcu informacije o broju slobodnih karata za dati upit.
        \end{legal}
    \item \textbf{1.2. Klijent ima rezervisane karte}
        \begin{legal}
          \item Blagajnik zahteva odgovarajući kod za rezervisane karte.
          \item Kupac daje prodavcu kod za rezervisane karte.
          \item Blagajnik provera da li je kod validan tako što ga unosi u sistem.
          \item Sistem potvrđuje validnost koda.
        \end{legal}
  \end{itemize}

\noindent\textbf{Dodatne informacije:} Ukoliko klijenti ne kupe rezervisane karte do nekog roka (pred početak predstave),
gube se rezervacije i time se povećava broj slobodnih karata.

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=90mm,height=90mm]{../images/sequence_prodaja_karata.jpg}
  \end{center}
  \caption{Sekvenca prodaje karata na blagajni}
  \label{sequence_prodaja_karata}
\end{figure}


\subsubsection{Zahtev za povraćaj novca za kupljenu kartu}  
\noindent\textbf{Kratak opis:} Korisnik može da zahteva povraćaj novca za kupljenu kartu neke predstave.
\noindent\textbf{Učesnici:} 
  \begin{itemize}
    \item Klijent koji zahteva povraćaj novca.
    \item Blagajnik koji je zaposlen u pozorištu.
  \end{itemize}

  \noindent\textbf{Preduslovi:} 
  \begin{itemize}
    \item Korisnik je prethodno kupio kartu.
    \item Predstava nije još održana.
  \end{itemize}

  \noindent\textbf{Postuslovi:} 
  \begin{itemize}
    \item Ako je zahtev za povraćaj novca prihvaćen, onda je klijentu povraćen novac.
  \end{itemize}

  \noindent\textbf{Osnovni tok:}
  \begin{legal}
    \item Klijent saopštava blagajniku da želi povraćaj novca.
    \item Blagajnik zahteva od sistema informacije o povraćaju novca za datu kartu.
    \item Sistem prikazuje informacije.
    \item Blagajnik odgovara na zahtev klijenta.
  \end{legal}

  \noindent\textbf{Podtokovi:}
  \begin{itemize}
    \item \textbf{4.1. Zahtev za povraćaj novca je moguć}
        \begin{legal}
          \item Blagajnik saopštava klijentu ponudu za povraćaj novca.
          \item Klijent prihvata ponudu. 
          \item Blagajnik šalje zahtev sistemu za povraćaj novca.
          \item Sistem ažurira bazu podataka, gde je broj slobodnih karata povećava.
          \item Sistem obaveštava blagajnika da je operacija uspešna.
          \item Blagajnik isplaćuje klijentu novac.
        \end{legal}
    \item \textbf{4.2. Zahtev za povraćaj novca nije moguć}
        \begin{legal}
          \item Blagajnik saopštava klijentu da povraćaj novca nije moguć.
        \end{legal}
  \end{itemize}

  \noindent\textbf{Alternativni tokovi:} 
  \begin{itemize}
    \item \textbf{A1. Klijentu ne odgovara ponuda za povraćaj novca (korak 4.1.2)} 
        \begin{legal}
          \item Klijent saopštava blagajniku da ne prihvata ponudu.
          \item Proces se završava.
        \end{legal}
    \item \textbf{A2. Neuspeo povraćaj novca (korak 4.1.4)} 
        \begin{legal}
          \item Blagajnik saopštava klijenta da povraćaj novca trenutno nije moguć.
          \item Proces se završava.
        \end{legal}
  \end{itemize}

  \noindent\textbf{Dodatne informacije:} 
  \begin{itemize}
    \item Pri povraćaju novca za kartu, sistem prikazuje procenat novca
  koji se vraća. Primer: Za kupljenu kartu se vraća 50\% od inicijalne cene. Procenat obračunava sistem
  na osnovu prethodno definisanih pravila.
    \item Ukoliko klijent zahteva novac za otkazanu predstavu, procenat novca koji se vraća je 100\%.
  \end{itemize}

  \begin{figure}[H]
    \begin{center}
        \includegraphics[width=120mm,height=70mm]{../images/sequence_povracaj_novca.jpg}
    \end{center}
    \caption{Sekvenca povraćaja novca}
    \label{sequence_povracaj novca}
  \end{figure}

% -------------------------------------------------------------------------------------------------------

\subsection{Vođenje finansija}

 \noindent\textbf{Kratak opis:} Supervizor pozorišta može da vidi prilive i odlive za ceo sistem ili
        neku konkretnu predstavu. 

\begin{figure}[H]
  \begin{center}
      \includegraphics[width=100mm,height=60mm]{../images/usecase_vodjenje_finansija.jpg}
  \end{center}
  \caption{Vođenje finansija}
  \label{usecase_vodjenje_finansija}
\end{figure}

\subsubsection{Pregled finansija u određenom vremenskom periodu}
\noindent\textbf{Kratak opis:} Supervizor pozorišta može zatražiti pregled finansija
u određenom vremenskom periodu. Nakon što dobije prikaz izveštaja, on ima opciju da izveštaj
odštampa ili sačuva na sistemu.

\noindent\textbf{Učesnici:} 
\begin{itemize}
  \item Supervizor pozorišta
\end{itemize}

\noindent\textbf{Preduslovi:} 
\begin{itemize}
  \item Supervizor pozorišta je prijavljen na sistem
  \item Potreban je štampač za štampanje izveštaja
\end{itemize}

\noindent\textbf{Postuslovi:} 
\begin{itemize}
  \item -
\end{itemize}

\noindent\textbf{Osnovni tok:} 
\begin{legal}
  \item Supervizor u sistemu otvara stranu za pregled finansija
  \item Supervizor unosi vremenski period za koji zahteva pregled finansija
  \item Sistem prikazuje podatke o finansijama za uneti period
  \item Supervizor bira da li štampa izveštaj
\end{legal}

\noindent\textbf{Alternativni tokovi:}
\begin{itemize}
  \item \textbf{A1. Ne postoje podaci o traženom vremenskom periodu (korak 2)} 
      \begin{legal}
        \item Sistem obaveštava supervizora o problemu
        \item Proces se nastavlja u \textbf{koraku 1}.
      \end{legal}

  \item \textbf{A2. Štampač nije dostupan (korak 4)} 
    \begin{legal}
      \item Sistem obaveštava supervizora o problemu
      \item Proces se završava
    \end{legal}
\end{itemize}

\subsubsection{Pregled finansija za konkretnu predstavu}
\noindent\textbf{Kratak opis:} Supervizor pozorišta može zatražiti pregled finansija vezanih za održavanje konkretne predstave

\noindent\textbf{Učesnici:} 
\begin{itemize}
  \item Supervizor pozorišta
\end{itemize}

\noindent\textbf{Preduslovi:} 
\begin{itemize}
  \item Supervizor pozorišta je prijavljen na sistem
  \item Potreban je štampač za štampanje izveštaja
  \item Predstava se nalazi u sistemu.
\end{itemize}

\noindent\textbf{Postuslovi:} 
\begin{itemize}
  \item -
\end{itemize}

\noindent\textbf{Osnovni tok:} 
\begin{legal}
  \item Supervizor u sistemu otvara stranu za pregled finansija
  \item Supervizor unosi ime predstave za koju želi da sazna pregled finansija
  \item Sistem prikazuje podatke o finansijama za unetu predstavu
  \item Supervizor bira da li štampa izveštaj
\end{legal}

\noindent\textbf{Alternativni tokovi:}
\begin{itemize}
  \item \textbf{A1. Uneta predstava ne postoji u sistemu (korak 2)} 
      \begin{legal}
        \item Sistem obaveštava supervizora o problemu
        \item Proces se nastavlja u \textbf{koraku 1}.
      \end{legal}

  \item \textbf{A2. Štampač nije dostupan (korak 4)} 
  \begin{legal}
    \item Sistem obaveštava supervizora o problemu
    \item Proces se završava
  \end{legal}

\end{itemize}


\section{Druga sekcija.}
Ovo je druga sekcija.

\section{Treća sekcija.}
Ovo je treća sekcija.

\section{Zaključak}
Ovo je zaključak.

\newpage

\addcontentsline{toc}{section}{Literatura}
\appendix
\bibliography{literatura} 
\bibliographystyle{unsrt}

\end{document}
        
